---
id: chitchat-faqs
sidebar_label: Chitchat and FAQs
title: Chitchat and FAQs
---

FAQs and chitchat are two cases where the conversational assistant's answer is
a single message, and the assistant should always answer the same way,
no matter what has happened previously in the conversation. 
For example, in the
following conversation, every question's answer is independent of context and
could
just as easily be answered on its own:

```yaml
User: What's your name
  Bot: My name is Sara!
User: Which languages can I build assistants in?
  Bot: You can use Rasa to build assistants in any language you want!
User: Whatâ€™s Rasa X?
  Bot: Rasa X is a tool to learn from real conversations and improve your assistant.
```


This page is a guide to the concepts and training data you need to handle non-contextual questions like
FAQs and chitchat.


## Concepts

To handle FAQs and chitchat you'll need a rule-based dialogue management policy ([the `RulePolicy`](#rulepolicy)) and an easy way
to return the appropriate response for a question ([the `ResponseSelector`](#retrieval-actions-and-responseselector)).  

### `RulePolicy`

For FAQs and chitchat, you always want the same response (or action) for the same question. 
[Rules](rules.mdx) allow you to do exactly that.
To use rules, the you need to add the [`RulePolicy`](#rule-policy) to your policies in your configuration file:

```rasa-yaml
policies:
# other policies
- name: RulePolicy
```

The `RulePolicy` works alongside other policies in your configuration (like the `TEDPolicy`). Its job is to enforce rule-based logic for conversation paths where you already know how the assistant should respond to a given input.


### Retrieval Actions and `ResponseSelector`

Consider an example where you have 20 different FAQs. Although each question is represented as an individual intent, all FAQ intents are handled the same way in the dialogue. For each FAQ intent, the assistant **retrieves** the proper response depending on which question has been asked. 

Instead of writing 20 rules, you can use [retrieval
actions](retrieval-actions.mdx) to handle all FAQs with a single rule by grouping them together under a single [retrieval intent](glossary.mdx#retrieval-intent)
called e.g. `faq`. 
 
The retrieval action uses the output of the
[`ResponseSelector`](./components/selectors.mdx#response-selector) to return
the correct response for the specific FAQ that the user asked.

To use retrieval actions, include the `ResponseSelector` in your NLU pipeline in your configuration file.
The `ResponseSelector` requires a featurizer and intent classifier to work, so
it should come after these components in your pipeline, for example:

```rasa-yaml
pipeline:
  - name: WhitespaceTokenizer
  - name: RegexFeaturizer
  - name: LexicalSyntacticFeaturizer
  - name: CountVectorsFeaturizer
  - name: CountVectorsFeaturizer
    analyzer: char_wb
    min_ngram: 1
    max_ngram: 4
  - name: DIETClassifier
    epochs: 100
  - name: EntitySynonymMapper
  - name: ResponseSelector
    epochs: 100
```

By default, the `ResponseSelector` will build a single retrieval model for all retrieval intents.
If you want to retrieve responses for FAQs and chitchat seperately, you can use multiple `ResponseSelector` components 
and specify the `retrieval_intent` key, for example:

```rasa-yaml
pipeline:
# Other components
- name: ResponseSelector
  epochs: 100
  retrieval_intent: faq
- name: ResponseSelector
  epochs: 100
  retrieval_intent: chitchat
```


## Training Data

To train a Rasa model using the `RulePolicy` and the `ResponseSelector`, you'll need to provide
rules, NLU training examples, and responses.

### Rules

When using retrieval actions, you need to write only one rule for each retrieval intent. All intents
grouped under that retrieval intent will then be handled the same way.
The retrieval action starts with `respond_` and ends with the retrieval intent's name. 
For example, rules for responding to FAQs and chitchat would look like this:

```rasa-yaml
rules:
  - rule: respond to FAQs
    steps:
    - intent: faq
    - action: respond_faq
  - rule: respond to chitchat
    steps:
    - intent: chitchat
    - action: respond_chitchat
```

The actions `respond_faq` and `respond_chitchat` will use the `ResponseSelector`'s prediction to return the actual response message.

### NLU Training Data

NLU training examples for the `ResponseSelector` look the same as
regular training examples, except that their names must refer to the retrieval
intent they are grouped under. For example:

```rasa-yaml
nlu:
  - intent: faq/ask_channels
    examples: |
      - What channels of communication does rasa support?
      - what channels do you support?
      - what chat channels does rasa uses
      - channels supported by Rasa
      - which messaging channels does rasa support?
  - intent: faq/ask_languages
    examples: |
      - what language does rasa support?
      - which language do you support?
      - which languages supports rasa
      - can I use rasa also for another laguage?
      - languages supported
  - intent: faq/ask_rasax
    examples: |
      - I want information about rasa x
      - i want to learn more about Rasa X
      - what is rasa x?
      - Can you tell me about rasa x?
      - Tell me about rasa x
      - tell me what is rasa x
```

### Responses

Responses for the `ResponseSelector` follow the same naming convention as
retrieval intents. Besides this, they can have all the characteristics of 
normal bot [response](domain.mdx#responses). For the FAQs and chitchat intents
listed above, our responses could look like:

```rasa-yaml
responses:
  faq/ask_channels: 
  - text: |
    We have a comprehensive list of [supported connectors](https://rasa.com/docs/core/connectors/), but if
    you don't see the one you're looking for, you can always create a custom connector by following
    [this guide](https://rasa.com/docs/rasa/user-guide/connectors/custom-connectors/).
  faq/ask_languages:
  - text: |
    You can use Rasa to build assistants in any language you want!
  faq/ask_rasax:
  - text: |
    Rasa X is a tool to learn from real conversations and improve your assistant. 
    Read more [here](https://rasa.com/docs/rasa-x/)
```

## Putting it all together

Once you've done the following, you can train your bot and try it out!

- [ ] Added `RulePolicy` to your policies in `config.yml`
- [ ] Added `ResponseSelector` to your pipeline in `config.yml`
- [ ] Added at least one rule for responding to FAQs/chitchat
- [ ] Added examples for your FAQs/chitchat intents
- [ ] Added responses for your FAQs/chitchat intents
- [ ] Updated the intents in your domain

Now, your assistant should be able to respond correctly and consistently to FAQs or chitchat, even if these interjections happen while your assistant is helping the user with another task. 
